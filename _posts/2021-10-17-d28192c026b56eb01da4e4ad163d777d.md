---
title:   ğŸš°Stream

subtitle:  Java 8
categories: language 
tags: java  stream
 
toc: true
toc_sticky: true
---

  
  
## íŠ¹ì§•  
- **ì—°ì†ëœ ì •ë³´ë¥¼ ì²˜ë¦¬**í•˜ëŠ”ë° ì‚¬ìš©í•œë‹¤.  
- Sequence of elements supporting sequential and parallel aggregate operations  
- ë°ì´í„°ë¥¼ ë‹´ê³  ìˆëŠ” **ì €ì¥ì†Œ(ì»¬ë ‰ì…˜)ì´ ì•„ë‹ˆë‹¤**.  
  
- `Functional in nature` : **streamì€ ì²˜ë¦¬í•˜ëŠ” ë°ì´í„° ì†ŒìŠ¤ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤.**  
  
```java  
List<String> names = new ArrayList<>();  
names.add("test");  
  
names.stream().map(String::toUpperCase).forEach(System.out::println);  
names.forEach(System.out::println);  
  
> TEST  
> test  
```  
  
- í•˜ë‚˜ì˜ ë°ì´í„°ë¥¼ ì˜¤ì§ í•œë²ˆë§Œ ì²˜ë¦¬í•œë‹¤.  
- ë„¤íŠ¸ì›Œí¬ ë“± ë¬´ì œí•œ streamì´ ìˆì„ ìˆ˜ë„ ìˆë‹¤. ê·¸ëŸ° ê²½ìš° Short Circuit ë©”ì†Œë“œë¡œ ì œí•œí•  ìˆ˜ ìˆë‹¤.  
- ì¤‘ê°œ ì—°ì‚°ì€ ê¸°ë³¸ì ìœ¼ë¡œ **lazy**í•˜ë‹¤.  
  
```java  
List<String> names = new ArrayList<>();  
names.add("test");  
  
names.stream().map(s -> {  
	System.out.println(s);		// ì¢…ë‹¨ ì—°ì‚° ì „ê¹Œì§€ëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.  
	return s.toUpperCase();  
});  
names.forEach(System.out::println);  
  
> test  
```  
  
- `parallelStream`ì„ ì´ìš©í•˜ì—¬ ì†ì‰½ê²Œ **ë³‘ë ¬ ì²˜ë¦¬**í•  ìˆ˜ ìˆë‹¤.  
  
```java  
List<String> names = new ArrayList<>();  
names.add("test1");  
names.add("test2");  
  
List<String> collect = names.parallelStream().map(s -> s.toUpperCase()).collect(Collectors.toList());  
  
collect.forEach(System.out::println);  
```  
  
## ìŠ¤íŠ¸ë¦¼ íŒŒì´í”„ë¼ì¸  
### ì¤‘ê°œ ì—°ì‚°  
- **streamì„ ë°˜í™˜**í•œë‹¤.  
- statelessì™€ stateful ë°©ì‹ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤. ëŒ€ë¶€ë¶„ statelessì´ì§€ë§Œ distinctë‚˜ sorted ê°™ì€ ê²½ìš° statefulì´ë‹¤.  
- `filter`, `map`, `limit`, `skip`, `sorted`, â€¦  
  
### ì¢…ë‹¨ ì—°ì‚°  
- **streamì„ ë°˜í™˜í•˜ì§€ ì•ŠëŠ”ë‹¤.**  
- `collect`, `allMatch`, `count`, `forEach`, `min`, `max`, â€¦  
  
## ìŠ¤íŠ¸ë¦¼ API  
### ê±¸ëŸ¬ë‚´ê¸°  
- `filter(predicate)`  
- íŠ¹ì • ì¡°ê±´(predicate)ë¥¼ ë§Œì¡±í•˜ëŠ” elementë§Œ ìƒˆë¡œìš´ `stream`ìœ¼ë¡œ ë°˜í™˜í•œë‹¤.  
- filter(Predicate.not(OnlineClass::isClosed)) -> !ì™€ ê°™ì€ ì—°ì‚°ìëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.  
  
### ë³€ê²½í•˜ê¸°  
- `map(function)`, `flatMap(function)`  
- ê°ê°ì˜ ìš”ì†Œì—ì„œ íŠ¹ì •ìš”ì†Œë§Œ êº¼ë‚´ê±°ë‚˜ ë³€ê²½í•˜ì—¬ ìƒˆë¡œìš´ `stream`ìœ¼ë¡œ ë°˜í™˜í•œë‹¤.  
- (ex) List<Stream<String>> -> Stringì˜ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ë³€í™˜  
  
### ìƒì„±í•˜ê¸°  
- `generate(Supplier)` ë˜ëŠ” `iterate(T seed, UnaryOperator)`  
- seedë¡œ ë¶€í„° UnaryOperatorë¥¼ ë¬´ì œí•œìœ¼ë¡œ ë°˜ë³µí•˜ëŠ” `stream`ì„ ë°˜í™˜í•œë‹¤.  
- Random integer ë¬´ì œí•œ ìŠ¤íŠ¸ë¦¼ ë“±ì´ ê°€ëŠ¥í•˜ë‹¤.  
  
### ì œí•œí•˜ê¸°  
- `limit(long)`, `skip(long)`  
- (ex) ì•ì—ì„œ 3ê°œë¥¼ ëº€ ë‚˜ë¨¸ì§€ `stream`ì„ ë°˜í™˜í•œë‹¤.  
  
### Streamì— ìˆëŠ” ë°ì´í„°ê°€ íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸  
- `anyMatch()`, `allMatch()`, `nonMatch()`  
- `stream`ì˜ element ë“¤ì„ ëŒë©´ì„œ íŠ¹ì • ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ”ì§€ í™•ì¸í•œë‹¤.  
- (ex) ì œëª© ì¤‘ testê°€ ë“¤ì–´ê°€ëŠ”ì§€   
  
### ê°œìˆ˜ ì„¸ê¸°  
- `count()`  
  
### Streamì„ ë°ì´í„° í•˜ë‚˜ë¡œ ë­‰ì¹˜ê¸°  
- `reduce(identity, BiFunction)`, `collect()`, `sum()`, `max()`  
  
### í†µí•© ì˜ˆì œ  
  
```java  
// ë°ì´í„° ì¤€ë¹„  
List<OnlineClass> springClasses = new ArrayList<>();  
springClasses.add(new OnlineClass(1, "spring boot", true));  
springClasses.add(new OnlineClass(2, "spring data jpa", true));  
springClasses.add(new OnlineClass(3, "spring mvc", false));  
springClasses.add(new OnlineClass(4, "spring core", false));  
springClasses.add(new OnlineClass(5, "rest api development", false));  
  
List<OnlineClass> javaClasses = new ArrayList<>();  
javaClasses.add(new OnlineClass(6, "The Java, Test", true));  
javaClasses.add(new OnlineClass(7, "The Java, Code mainpulation", true));  
javaClasses.add(new OnlineClass(8, "The Java 8 to 11", false));  
  
List<List<OnlineClass>> events = new ArrayList<>();  
events.add(springClasses);  
events.add(javaClasses);  
  
// springìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ìˆ˜ì—…  
springClasses.stream()  
	.filter(oc -> oc.getTitle().startsWith("spring")  
	.forEach(System.out::println);  
  
// closedë˜ì§€ ì•ŠëŠ” ìˆ˜ì—…  
springClasses.stream()  
	.filter(Predicate.not(OnlineClass::isClosed))  
	.forEach(System.out::println);  
  
// ìˆ˜ì—… ì´ë¦„ë§Œ ëª¨ì•„ì„œ streamë§Œë“¤ê¸°  
Stream<String> springTitleStream = springClasses.stream()  
	.map(OnlineClass::getTitle);  
  
// ë‘ ìˆ˜ì—… ëª©ë¡ì— ë“¤ì–´ìˆëŠ” ëª¨ë“  ìˆ˜ì—… ì•„ì´ë”” ì¶œë ¥  
events.stream()  
	.flatMap(Collection::stream)	// 2ì°¨ì› ë¦¬ìŠ¤íŠ¸ë¥¼ 1ì°¨ì›ìœ¼ë¡œ í‰íƒ„í™”  
	.forEach(oc -> System.out.println(oc.getId());  
  
// 10ë¶€í„° 1ì”© ì¦ê°€í•˜ëŠ” ë¬´ì œí•œ ìŠ¤íŠ¸ë¦¼ ì¤‘ì—ì„œ ì•ì— 10ê°œ ë¹¼ê³  ìµœëŒ€ 10ê°œê¹Œì§€ë§Œ  
Stream.iterate(10, i -> i + 1)  
	.skip(10)  
	.limit(10)  
	.forEach(System.out::println);  
  
// ìë°” ìˆ˜ì—… ì¤‘ì— Testê°€ ë“¤ì–´ìˆëŠ” ìˆ˜ì—…ì´ "ìˆëŠ”ì§€" í™•ì¸  
boolean test = jaaClasses.stream()  
	.anyMatch(oc -> oc.getTitle().contains("Test"));  
  
// ìŠ¤í”„ë§ ìˆ˜ì—… ì¤‘ì— ì œëª©ì´ springì´ ë“¤ì–´ê°„ ì œëª©ë§Œ ëª¨ì•„ì„œ Listë¡œ ë§Œë“¤ê¸°  
List<String> spring = springClasses.stream()  
	.filter(oc -> oc.getTitle().contains("spring")  
	.map(OnlineClass::getTitle)  
	.collect(Collector.toList());  
```  
  
- - - -  
[1] ë°±ê¸°ì„ , ë” ìë°” Java 8, Optional  
