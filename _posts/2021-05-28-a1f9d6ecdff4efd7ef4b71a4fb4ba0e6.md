---
title:  ğŸƒì„œë¸”ë¦¿ê³¼ JSP

subtitle:  Spring MVC
categories: ìŠ¤í”„ë§ë¶€íŠ¸ 
tags: backend  java  servlet  jsp
 
toc: true
toc_sticky: true
---

  
ì˜›ë‚ ì— ì‚¬ì„œ í•œë²ˆë„ ë³´ì§€ ì•Šì€ ì±… ì¤‘ì— JSP/ì„œë¸”ë¦¿ì´ë¼ëŠ” ì±…ì´ ìˆì—ˆë‹¤. ë§‰ì—°í•˜ê²Œ ìë°”ë¥¼ í†µí•´ êµ¬í˜„í•˜ëŠ” ì›¹ì´ë¼ëŠ”ê²ƒ ì´ì™¸ì—ëŠ” JSPê°€ ë­”ì§€ ì„œë¸”ë¦¿ì´ ë­”ì§€ ì „í˜€ ê°ì´ ì—†ì—ˆë‹¤. JSPê°€ í…œí”Œë¦¿ ì—”ì§„ì´ë¼ëŠ” ì‚¬ì‹¤ë„ ì´ë²ˆì—ì„œì•¼ ì•Œê²Œ ë˜ì—ˆë‹¤.  
  
ì‹œëŒ€ëŠ” ì§€ë‚˜ ìŒ© ì„œë¸”ë¦¿, ê·¸ë¦¬ê³  JSPë¥¼ í…œí”Œë¦¿ ì—”ì§„ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì¼ì€ ê±°ì˜ ì—†ê² ì§€ë§Œ ìŠ¤í”„ë§ì˜ ê·¼ê°„ì´ ë˜ë¯€ë¡œ ì¡°ê¸ˆì€ ì •ë¦¬í•´ë³´ë„ë¡ í•˜ì. ( ì•„ë˜ APIë¥˜ëŠ” ì¢€ ìƒëµí•´ë„ ë ê±°ê°™ë‹¤.)  
  
  
ìŠ¤í”„ë§ë¶€íŠ¸ëŠ” ì„œë¸”ë¦¿ì„ í¬í•¨í•˜ê³  ìˆìœ¼ë¯€ë¡œ(wrappingí•˜ì˜€ìœ¼ë‹ˆ ë‹¹ì—°í•˜ê²Œë„), ì˜ˆì œ ì½”ë“œëŠ” ëª¨ë‘ ìŠ¤í”„ë§ ë‚´ì—ì„œ ì‘ì„±í•œ ë²„ì „ìœ¼ë¡œ í•œë‹¤.  
  
```java  
@ServletComponentScan // ì„œë¸”ë¦¿ ìë™ ë“±ë¡  
@SpringBootApplication  
public class ServletApplication {  
  public static void main(String[] args) {  
    SpringApplication.run(ServletApplication.class, args);  
  }  
}  
```  
  
ìœ„ì™€ ê°™ì€ ì• ë…¸í…Œì´ì…˜ì„ í†µí•´ ì„œë¸”ë¦¿ì„ ìë™ë“±ë¡í•˜ë„ë¡ í•œ ë’¤, ì²« ì„œë¸”ë¦¿ì„ ìƒì„±í•˜ì—¬ ë“±ë¡í•˜ë„ë¡ í•˜ì.  
  
```java  
@WebServlet(name = "helloServlet", urlPatterns = "/hello")  
public class HelloServlet extends HttpServlet {  
  @Override  
  protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {  
    System.out.println("HelloServlet.service");  
    System.out.println("request = " + request);  
    System.out.println("response = " + response);  
  
//http://localhost:8080/request-param?username=hello&age=20  
    String username = request.getParameter("username");  // ì¿¼ë¦¬ íŒŒë¼ë©”í„°  
    System.out.println("username = " + username);  
    response.setContentType("text/plain");  
    response.setCharacterEncoding("utf-8");  
    response.getWriter().write("hello " + username)  
  }  
}  
```  
  
ë‹¤ì§œê³ ì§œ ì½”ë“œë¶€í„° ì‚´í´ë³´ì•˜ëŠ”ë° ê°„ë‹¨íˆ ì‚´í´ë³´ë©´ ì•„ì§ ì„¤ëª…í•˜ì§€ ì•Šì€ `ì„œë¸”ë¦¿`ì´ ë¬´ì—‡ì¸ì§€ë¥¼ ì•Œ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ìë©´ **ì›¹ ìš”ì²­ì„ ì²˜ë¦¬**í•˜ê¸° ìœ„í•œ ìë°” í´ë˜ìŠ¤ì¸ ê²ƒì´ë‹¤.  
  
`@WebServlet` ì„œë¸”ë¦¿ ì• ë…¸í…Œì´ì…˜ì„ í†µí•´ ì„œë¸”ë¦¿ í´ë˜ìŠ¤ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆìœ¼ë©°, name ë° urlPatternsì„ ì •ì˜í•  ìˆ˜ ìˆë‹¤. ìœ„ ì˜ˆì œì˜ ì„œë¸”ë¦¿ì€ `http://localhost:8080/hello`ì— ëŒ€í•œ ì›¹ ìš”ì²­ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.  
  
ì„œë¸”ë¦¿ì€ `ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆ`ì— ë³´ê´€ë˜ë©° ë§¤ì¹˜ë˜ëŠ” urlë¡œ ìš”ì²­ì´ ì˜¤ë©´ ì•„ë˜ì™€ ê°™ì€ ë©”ì„œë“œê°€ í˜¸ì¶œëœë‹¤. ê°œë°œìëŠ” ì´ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•´ì„œ í•´ë‹¹ ìš”ì²­ì— ëŒ€í•œ ë™ì‘ì„ ì •ì˜í•˜ëŠ” ê²ƒì´ë‹¤.  
  
```java  
protected void service(HttpServletRequest request, HttpServletResponse response)  
```  
  
í˜„ì¬ì˜ ìŠ¤í”„ë§ë¶€íŠ¸ë‚˜ ë‹¤ë¥¸ ì›¹ í”„ë ˆì„ì›Œí¬ë¥¼ ìƒê°í•´ë³´ë©´ ì•„ì‰¬ìš¸ ìˆ˜ë„ ìˆì§€ë§Œ, ì´ë¯¸ ì„œë¸”ë¦¿ë§Œìœ¼ë¡œë„ http requestì— ëŒ€í•œ ì¶”ìƒí™”ê°€ ë§ì´ ì´ë£¨ì–´ì ¸ ìˆë‹¤. HttpServletRequestë¼ëŠ” í´ë˜ìŠ¤ê°€ ì´ë¯¸ requestë¥¼ ì¶”ìƒí™”í–ˆë‹¤ëŠ” ì˜ë¯¸ê°€ ë˜ì§€ ì•Šê² ëŠ”ê°€? ê°„ë‹¨íˆ ì˜ˆë¥¼ ë“¤ë©´ Http request headerì˜ Content-Lengthë§Œ í•´ë„ ê³„ì‚°ì—†ì´ ìë™ìœ¼ë¡œ ì„œë¸”ë¦¿ì— ì œê³µì´ ëœë‹¤.  
  
ê·¸ë ‡ë‹¤ë©´ ì„œë¸”ë¦¿ë“¤ì´ ì €ì¥ë˜ëŠ” ì„œë¸”ë¦¿ ì»¨í…Œì´ë„ˆëŠ” ì–´ë””ì— ìˆëŠ”ê±¸ê¹Œ? ì •ë‹µì€ í†°ì¼“(Tomcat) ì„œë²„ì´ë‹¤. ìŠ¤í”„ë§ë¶€íŠ¸ë¥¼ í†µí•´ ì„œë¸”ë¦¿ì„ ì‘ì„±í•˜ë©´ ë‚´ì¥ëœ í†°ì¼“ ì„œë²„ë¥¼ í†µí•´ ì„œë¸”ë¦¿ì´ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ë‹¤. í™•ì‹¤íˆ WASë‹µê²Œ ë‹¨ìˆœí•œ ì›¹ ì„œë²„ì™€ëŠ” ë‹¬ë¦¬ ë¡œì§ì„ ë³´ê´€í•œë‹¤.  
  
  
## HttpServletRequest  
  
  
ì´ì œ ì¢€ ë” ë””í…Œì¼í•˜ê²Œ ì„œë¸”ë¦¿ì˜ ìš”ì†Œë¥¼ ì‚´í´ë³´ì. ë¨¼ì € `HttpServletRequest`ì´ë‹¤. ì„œë¸”ë¦¿ì€ ê°œë°œì ëŒ€ì‹  http request messageë¥¼ íŒŒì‹±í•´ì„œ ìœ„ í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  service ë©”ì„œë“œì˜ ì¸ìë¡œ ë„£ì–´ì¤€ë‹¤.  
  
êµ¬ì²´ì ìœ¼ë¡œ ì œê³µí•´ì¤„ ìˆ˜ ìˆëŠ” ë°ì´í„°ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.  
  
- HTTP ë©”ì†Œë“œ(GET, POST, DELETE, PUT, ...)  
- URL  
- query string  
- ìŠ¤í‚¤ë§ˆ  
- í”„ë¡œí† ì½œ í—¤ë”  
- form íŒŒë¼ë¯¸í„° í˜•ì‹ ì¡°íšŒ  
- message body ë°ì´í„° ì§ì ‘ ì¡°íšŒ  
  
ì´ê²ƒë§Œìœ¼ë¡œëŠ” ì¬ë¯¸ê°€ ì—†ë‹¤. íŒŒì‹±ì •ë„ëŠ” ì‹œì‹œí•˜ì§€ ì•Šê² ëŠ”ê°€? ë¶€ê°€ì ì¸ ê¸°ëŠ¥ì„ ì•„ë˜ì™€ ê°™ì´ ì œê³µí•œë‹¤.  
  
- **ì„ì‹œ ì €ì¥ì†Œ ê¸°ëŠ¥**  
í•´ë‹¹ HTTP ìš”ì²­ì´ ì‹œì‘ë¶€í„° ëë‚  ë•Œ ê¹Œì§€ ìœ ì§€ë˜ëŠ” ì„ì‹œ ì €ì¥ì†Œë¥¼ ì œê³µí•œë‹¤. ë‚˜ì¤‘ì—ë„ í•µì‹¬ì ìœ¼ë¡œ ì“°ê²Œë˜ëŠ” ê¸°ëŠ¥ì´ë‹ˆ ê¸°ì–µí•´ë‘ì.  
  
```java  
request.setAttribute(name, value)  
request.getAttribute(name)  
```  
  
- ì„¸ì…˜ ê´€ë¦¬ ê¸°ëŠ¥  
  
```java  
request.getSession(create: true)  
```  
  
ì´ë ‡ê²Œ HttpRequestì— ëŒ€í•œ ëŒ€ë¶€ë¶„ì˜ ì •ë³´ë¥¼ APIë¥¼ í†µí•´ ì–»ì–´ì˜¬ ìˆ˜ ìˆë‹¤. ìŠ¤í”„ë§ì—ì„œë„ í•„ìš”ì‹œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ í•„ìš”í• ë•Œ ë ˆí¼ëŸ°ìŠ¤ë¥¼ ì°¾ì•„ë³´ë„ë¡ í•˜ì.  
  
> Jackson ë¼ì´ë¸ŒëŸ¬ë¦¬    
> ìŠ¤í”„ë§ì—ì„œëŠ” í•„ìš”ì—†ì§€ë§Œ ê°€ë” ë³´ì´ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¼ì„œ ì •ë¦¬í•´ë³¸ë‹¤. ë§ˆì¹˜ node.jsì™€ javascriptê°„ì— ê·¸ëŸ¬í•˜ë“¯ì´ JSON í˜•ì‹ì„ ë°›ì•„ì„œ ë°”ë¡œ ê°ì²´ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ë°©ë²•ì´ë‹¤. ìŠ¤í”„ë§ì—ì„œëŠ” ê¸°ëƒ¥ ëœë‹¤.    
  
POST http://localhost:8080/request-body-json  
content-type: application/json  
message body:   
{"username": "hello", "age": 20} ê²°ê³¼: messageBody = {"username": "hello", "age": 20}  
  
```java  
  @Getter @Setter  
  public class HelloData {  
      private String username;  
      private int age;  
  }  
```  
  
  
```java  
  
import com.fasterxml.jackson.databind.ObjectMapper;  
// ì´ ë…€ì„ì´ jsonì„ objectë¡œ ë§¤í•‘í•´ì¤€ë‹¤.  
  
  
@WebServlet(name = "requestBodyJsonServlet", urlPatterns = "/request-body-  
    json")  
    public class RequestBodyJsonServlet extends HttpServlet {  
        private ObjectMapper objectMapper = new ObjectMapper();  
@Override  
        protected void service(HttpServletRequest request, HttpServletResponse  
    response)  
                throws ServletException, IOException {  
            ServletInputStream inputStream = request.getInputStream();  
String messageBody = StreamUtils.copyToString(inputStream,  
    StandardCharsets.UTF_8);  
            HelloData helloData = objectMapper.readValue(messageBody,  
    HelloData.class);  
            System.out.println("helloData.username = " + helloData.getUsername());  
            System.out.println("helloData.age = " + helloData.getAge());  
            response.getWriter().write("ok");  
        }  
}  
```  
  
## HttpServletResponse  
  
- HttpServletResponse ì—­í•   
- HTTP ì‘ë‹µ ë©”ì‹œì§€ ìƒì„± HTTP ì‘ë‹µì½”ë“œ ì§€ì • í—¤ë” ìƒì„±  
- ë°”ë”” ìƒì„±  
- í¸ì˜ ê¸°ëŠ¥ ì œê³µ  
- Content-Type, ì¿ í‚¤, Redirect  
  
requestì™€ ë§ˆì°¬ê°€ì§€ë¡œ responseë„ í¸ì˜ê¸°ëŠ¥ì„ ë§ì´ ì œê³µí•œë‹¤. ê·¸ë¦¬ê³  ì—­ì‹œë‚˜ ìŠ¤í”„ë§ì—ì„œëŠ” ë” í¸í•˜ê²Œ ì œê³µí•œë‹¤.  
  
Responseì˜ í—¤ë”ëŠ” ì €ë ‡ê²Œ ì‘ì„±í•œë‹¤ ì¹˜ê³ , ì´ì œ response ë©”ì‹œì§€ì˜ bodyë¥¼ ì‘ì„±í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ì. ìš”ì¦˜ì€ rest apië¥¼ ë°˜í™˜í•˜ê³  í”„ë¡ íŠ¸ì—”ë“œëŠ” ë‹¤ë¥¸ í”„ë ˆì„ì›Œí¬ë¡œ êµ¬ì„±í•˜ëŠ”ê²Œ ì¼ë°˜ì ì´ì§€ë§Œ ì˜ˆì „ì—” ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ì´ ì¼ë°˜ì ì´ì—ˆê³ , ë”°ë¼ì„œ ì›¹ ìš”ì²­ì— ëŒ€í•´ htmlì„ ë°˜í™˜í•  í•„ìš”ê°€ ìˆëŠ” ê²ƒì´ë‹¤.  
  
```java  
@WebServlet(name = "memberFormServlet", urlPatterns = "/servlet/members/new-  
  form")  
  public class MemberFormServlet extends HttpServlet {  
      private MemberRepository memberRepository = MemberRepository.getInstance();  
@Override  
      protected void service(HttpServletRequest request, HttpServletResponse  
  response)  
              throws ServletException, IOException {  
          response.setContentType("text/html");  
          response.setCharacterEncoding("utf-8");  
  
  
// ì°¸ê³  : ì¿ í‚¤ ì „ë‹¬í•˜ëŠ”ë²•  
Cookie cookie = new Cookie("myCookie", "good");  
cookie.setMaxAge(600); //600ì´ˆ  
      response.addCookie(cookie);  
  
  
// ë˜ì‰?  
PrintWriter w = response.getWriter();  
          w.write("<!DOCTYPE html>\n" +  
                  "<html>\n" +  
                  "<head>\n" +  
                  "    <meta charset=\"UTF-8\">\n" +  
"    <title>Title</title>\n" +  
"</head>\n" +  
"<body>\n" +  
"<form action=\"/servlet/members/save\" method=\"post\">\n" +  
"    username: <input type=\"text\" name=\"username\" />\n" +  
"    age:      <input type=\"text\" name=\"age\" />\n" +  
" <button type=\"submit\">ì „ì†¡</button>\n" + "</form>\n" +  
"</body>\n" +  
"</html>\n");  
}  
}  
```  
  
ì•„ì´ê³ ì•¼...HTMLì„ ì§ì ‘ ìƒì„±í•´ì„œ responseë¡œ ì „ë‹¬í•˜ê³  ìˆë‹¤.  
  
  
  
ìë°” ì½”ë“œë¡œ HTMLì„ ë§Œë“¤ì–´ ë‚´ëŠ” ê²ƒ ë³´ë‹¤ ì°¨ë¼ë¦¬ HTML ë¬¸ì„œì— ë™ì ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ë§Œ ìë°” ì½”ë“œë¥¼ ë„£ì„ ìˆ˜ ìˆë‹¤ë©´ ë” í¸ë¦¬í•  ê²ƒì´ë‹¤. ì´ê²ƒì´ ë°”ë¡œ í…œí”Œë¦¿ ì—”ì§„ì´ ë‚˜ì˜¨ ì´ìœ ì´ë‹¤. í…œí”Œë¦¿ ì—”ì§„ì„ ì‚¬ìš©í•˜ë©´ HTML ë¬¸ì„œì—ì„œ í•„ìš”í•œ ê³³ë§Œ ì½”ë“œë¥¼ ì ìš©í•´ì„œ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.  
í…œí”Œë¦¿ ì—”ì§„ì—ëŠ” JSP, Thymeleaf, Freemarker, Velocityë“±ì´ ìˆë‹¤.  
  
  
  
## JSP  
ë­”ì§€ë„ ëª°ëë˜ JSP. ì•Œê³ ë³´ë‹ˆ í…œí”Œë¦¿ ì—”ì§„ì´ì—ˆë‹¤. ê¹¨ë‹«ê³  ë‚˜ë‹ˆ ì•„ë¬´ë„ ì´ì œëŠ” ì“°ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ë„ ì•Œì•„ë³´ì.  
  
ê·¸ëŸ°ë°, ì½”ë“œì—ì„œ ë³´ë“¯ì´ ì´ê²ƒì€ ë§¤ìš° ë³µì¡í•˜ê³  ë¹„íš¨ìœ¨ ì ì´ë‹¤. ìë°” ì½”ë“œë¡œ HTMLì„ ë§Œë“¤ì–´ ë‚´ëŠ” ê²ƒ ë³´ë‹¤ ì°¨ë¼ë¦¬ HTML ë¬¸ì„œì— ë™ì ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ë§Œ ìë°” ì½”ë“œë¥¼ ë„£ì„ ìˆ˜ ìˆë‹¤ë©´ ë” í¸ë¦¬í•  ê²ƒì´ë‹¤. ì´ê²ƒì´ ë°”ë¡œ í…œí”Œë¦¿ ì—”ì§„ì´ ë‚˜ì˜¨ ì´ìœ ì´ë‹¤. í…œí”Œë¦¿ ì—”ì§„ì„ ì‚¬ìš©í•˜ë©´ HTML ë¬¸ì„œì—ì„œ í•„ìš”í•œ ê³³ë§Œ ì½”ë“œë¥¼ ì ìš©í•´ì„œ ë™ì ìœ¼ë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.  
í…œí”Œë¦¿ ì—”ì§„ì—ëŠ” JSP, Thymeleaf, Freemarker, Velocityë“±ì´ ìˆë‹¤.  
  
  
  
```java  
<%@ page import="hello.servlet.domain.member.MemberRepository" %>  
  <%@ page import="hello.servlet.domain.member.Member" %>  
  <%@ page contentType="text/html;charset=UTF-8" language="java" %>  
  <%  
   //  
request, response ì‚¬ìš© ê°€ëŠ¥  
MemberRepository memberRepository = MemberRepository.getInstance();  
System.out.println("save.jsp");  
String username = request.getParameter("username");  
int age = Integer.parseInt(request.getParameter("age"));  
Member member = new Member(username, age);  
System.out.println("member = " + member);  
memberRepository.save(member);  
%>  
<html>  
<head>  
    <meta charset="UTF-8">  
</head>  
<body>  
ì„±ê³µ  
  <ul>  
      <li>id=<%=member.getId()%></li>  
      <li>username=<%=member.getUsername()%></li>  
      <li>age=<%=member.getAge()%></li>  
</ul>  
<a href="/index.html">ë©”ì¸</a>  
  </body>  
  </html>  
```  
  
ë³´ë©´ ìë°”ì½”ë“œê°€ ê¸°ëƒ¥ ë“¤ì–´ê°€ ìˆë‹¤.  
  
íšŒì› ì €ì¥ JSPë¥¼ ë³´ë©´, íšŒì› ì €ì¥ ì„œë¸”ë¦¿ ì½”ë“œì™€ ê°™ë‹¤. ë‹¤ë¥¸ ì ì´ ìˆë‹¤ë©´, HTMLì„ ì¤‘ì‹¬ìœ¼ë¡œ í•˜ê³ , ìë°”  
ì½”ë“œë¥¼ ë¶€ë¶„ë¶€ë¶„ ì…ë ¥í•´ì£¼ì—ˆë‹¤. <% ~ %> ë¥¼ ì‚¬ìš©í•´ì„œ HTML ì¤‘ê°„ì— ìë°” ì½”ë“œë¥¼ ì¶œë ¥í•˜ê³  ìˆë‹¤.  
  
  
  
<%@ page contentType="text/html;charset=UTF-8" language="java" %>  
ì²« ì¤„ì€ JSPë¬¸ì„œë¼ëŠ” ëœ»ì´ë‹¤. JSP ë¬¸ì„œëŠ” ì´ë ‡ê²Œ ì‹œì‘í•´ì•¼ í•œë‹¤.  
  
  
ë‹¤ë¥¸ í…œí”Œë¦¿ì—”ì§„(django template, pug ê°™ì€ê²ƒë„ ë´¤ìœ¼ë‹ˆ ë­”ì§€ ëŒ€ì¶© ì•Œê²ƒì´ë‹¤.  
  
íšŒì› ë“±ë¡ í¼ JSPë¥¼ ë³´ë©´ ì²« ì¤„ì„ ì œì™¸í•˜ê³ ëŠ” ì™„ì „íˆ HTMLì™€ ë˜‘ê°™ë‹¤. JSPëŠ” ì„œë²„ ë‚´ë¶€ì—ì„œ ì„œë¸”ë¦¿ìœ¼ë¡œ  
ë³€í™˜ë˜ëŠ”ë°, ìš°ë¦¬ê°€ ë§Œë“¤ì—ˆë˜ MemberFormServletê³¼ ê±°ì˜ ë¹„ìŠ·í•œ ëª¨ìŠµìœ¼ë¡œ ë³€í™˜ëœë‹¤.  
  
ì‹¤í–‰  
http://localhost:8080/jsp/members/new-form.jsp  
ì‹¤í–‰ì‹œ .jsp ê¹Œì§€ í•¨ê»˜ ì ì–´ì£¼ì–´ì•¼ í•œë‹¤.  
  
  
> ì¦‰, ë‹¨ìˆœ htmlì„ ë°˜í™˜í•˜ëŠ” ì„œë¸”ë¦¿ì´ë¼ë©´ ì„œë¸”ë¦¿ì„ ì‘ì„±í•  í•„ìš”ì—†ì´ jspë§Œ ì‘ì„±í•˜ë©´ ê·¸ urlë¡²ì ‘ì†ì‹œ ë™ì¼í•œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì´ì•¼ê¸°ì´ë‹¤.    
  
  
  
  
> ìë°”ì§„ì˜ì˜ ì›ëŒ€í•œ ê¿ˆ. ìë°”ëŠ” ìë°” ê°€ìƒë¨¸ì‹  ìœ„ì—ì„œ ë™ì‘í•œë‹¤. ê·¸ë˜ì„œ ì›¹ ë¸Œë¼ìš°ì €ì— ê°€ìƒë¨¸ì‹ ì„ íƒ‘ì¬í•´ì„œ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ê°„ì— ìë°” ë°”ì´íŠ¸ ì½”ë“œë¥¼ ì „ì†¡í•´ì„œ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬í˜„í•˜ê³  ì‹¶ì€ ì›ëŒ€í•œ ëª©í‘œê°€ ìˆì—ˆëŠ”ë°, ê²°êµ­ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì›¹ ì„¸ê³„ë¥¼ ì§€ë°°í•´ë²„ë¦¬ê³  ë§ì•˜ë‹¤.    
  
  
  
ì„œë¸”ë¦¿ê³¼ JSPì˜ í•œê³„  
ì„œë¸”ë¦¿ìœ¼ë¡œ ê°œë°œí•  ë•ŒëŠ” ë·°(View)í™”ë©´ì„ ìœ„í•œ HTMLì„ ë§Œë“œëŠ” ì‘ì—…ì´ ìë°” ì½”ë“œì— ì„ì—¬ì„œ ì§€ì €ë¶„í•˜ê³  ë³µì¡í–ˆë‹¤.  
JSPë¥¼ ì‚¬ìš©í•œ ë•ë¶„ì— ë·°ë¥¼ ìƒì„±í•˜ëŠ” HTML ì‘ì—…ì„ ê¹”ë”í•˜ê²Œ ê°€ì ¸ê°€ê³ , ì¤‘ê°„ì¤‘ê°„ ë™ì ìœ¼ë¡œ ë³€ê²½ì´ í•„ìš”í•œ ë¶€ë¶„ì—ë§Œ ìë°” ì½”ë“œë¥¼ ì ìš©í–ˆë‹¤. ê·¸ëŸ°ë° ì´ë ‡ê²Œ í•´ë„ í•´ê²°ë˜ì§€ ì•ŠëŠ” ëª‡ê°€ì§€ ê³ ë¯¼ì´ ë‚¨ëŠ”ë‹¤.  
íšŒì› ì €ì¥ JSPë¥¼ ë³´ì. ì½”ë“œì˜ ìƒìœ„ ì ˆë°˜ì€ íšŒì›ì„ ì €ì¥í•˜ê¸° ìœ„í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ê³ , ë‚˜ë¨¸ì§€ í•˜ìœ„ ì ˆë°˜ë§Œ ê²°ê³¼ë¥¼ HTMLë¡œ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ë·° ì˜ì—­ì´ë‹¤. íšŒì› ëª©ë¡ì˜ ê²½ìš°ì—ë„ ë§ˆì°¬ê°€ì§€ë‹¤.  
  
  
  
ì½”ë“œë¥¼ ì˜ ë³´ë©´, JAVA ì½”ë“œ, ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ëŠ” ë¦¬í¬ì§€í† ë¦¬ ë“±ë“± ë‹¤ì–‘í•œ ì½”ë“œê°€ ëª¨ë‘ JSPì— ë…¸ì¶œë˜ì–´ ìˆë‹¤. JSPê°€ ë„ˆë¬´ ë§ì€ ì—­í• ì„ í•œë‹¤. ì´ë ‡ê²Œ ì‘ì€ í”„ë¡œì íŠ¸ë„ ë²Œì¨ ë¨¸ë¦¬ê°€ ì•„íŒŒì˜¤ëŠ”ë°, ìˆ˜ë°± ìˆ˜ì²œì¤„ì´ ë„˜ì–´ê°€ëŠ” JSPë¥¼ ë– ì˜¬ë ¤ë³´ë©´ ì •ë§ ì§€ì˜¥ê³¼ ê°™ì„ ê²ƒì´ë‹¤. (ìœ ì§€ë³´ìˆ˜ ì§€ì˜¥ ì°)  
  
  
  
MVC íŒ¨í„´ì˜ ë“±ì¥  
ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì„œë¸”ë¦¿ ì²˜ëŸ¼ ë‹¤ë¥¸ê³³ì—ì„œ ì²˜ë¦¬í•˜ê³ , JSPëŠ” ëª©ì ì— ë§ê²Œ HTMLë¡œ í™”ë©´(View)ì„ ê·¸ë¦¬ëŠ” ì¼ì— ì§‘ì¤‘í•˜ë„ë¡ í•˜ì. ê³¼ê±° ê°œë°œìë“¤ë„ ëª¨ë‘ ë¹„ìŠ·í•œ ê³ ë¯¼ì´ ìˆì—ˆê³ , ê·¸ë˜ì„œ MVC íŒ¨í„´ì´ ë“±ì¥í–ˆë‹¤. ìš°ë¦¬ë„ ì§ì ‘ MVC íŒ¨í„´ì„ ì ìš©í•´ì„œ í”„ë¡œì íŠ¸ë¥¼ ë¦¬íŒ©í„°ë§ í•´ë³´ì.  
  
  
  
  
  
Model View Controller  
MVC íŒ¨í„´ì€ ì§€ê¸ˆê¹Œì§€ í•™ìŠµí•œ ê²ƒ ì²˜ëŸ¼ í•˜ë‚˜ì˜ ì„œë¸”ë¦¿ì´ë‚˜, JSPë¡œ ì²˜ë¦¬í•˜ë˜ ê²ƒì„ ì»¨íŠ¸ë¡¤ëŸ¬(Controller)ì™€ ë·°(View)ë¼ëŠ” ì˜ì—­ìœ¼ë¡œ ì„œë¡œ ì—­í• ì„ ë‚˜ëˆˆ ê²ƒì„ ë§í•œë‹¤. ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë³´í†µ ì´ MVC íŒ¨í„´ì„ ì‚¬ìš©í•œë‹¤.  
ì»¨íŠ¸ë¡¤ëŸ¬: HTTP ìš”ì²­ì„ ë°›ì•„ì„œ íŒŒë¼ë¯¸í„°ë¥¼ ê²€ì¦í•˜ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‹¤í–‰í•œë‹¤. ê·¸ë¦¬ê³  ë·°ì— ì „ë‹¬í•  ê²°ê³¼ ë°ì´í„°ë¥¼ ì¡°íšŒí•´ì„œ ëª¨ë¸ì— ë‹´ëŠ”ë‹¤.  
  
 ëª¨ë¸: ë·°ì— ì¶œë ¥í•  ë°ì´í„°ë¥¼ ë‹´ì•„ë‘”ë‹¤. ë·°ê°€ í•„ìš”í•œ ë°ì´í„°ë¥¼ ëª¨ë‘ ëª¨ë¸ì— ë‹´ì•„ì„œ ì „ë‹¬í•´ì£¼ëŠ” ë•ë¶„ì— ë·°ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ë‚˜ ë°ì´í„° ì ‘ê·¼ì„ ëª°ë¼ë„ ë˜ê³ , í™”ë©´ì„ ë Œë”ë§ í•˜ëŠ” ì¼ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë‹¤.  
ë·°: ëª¨ë¸ì— ë‹´ê²¨ìˆëŠ” ë°ì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ í™”ë©´ì„ ê·¸ë¦¬ëŠ” ì¼ì— ì§‘ì¤‘í•œë‹¤. ì—¬ê¸°ì„œëŠ” HTMLì„ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì„ ë§í•œë‹¤  
  
  
  
 ì°¸ê³   
> ì»¨íŠ¸ë¡¤ëŸ¬ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‘˜ ìˆ˜ë„ ìˆì§€ë§Œ, ì´ë ‡ê²Œ ë˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ë„ˆë¬´ ë§ì€ ì—­í• ì„ ë‹´ë‹¹í•œë‹¤. ê·¸ë˜ì„œ    
ì¼ë°˜ì ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì„œë¹„ìŠ¤(Service)ë¼ëŠ” ê³„ì¸µì„ ë³„ë„ë¡œ ë§Œë“¤ì–´ì„œ ì²˜ë¦¬í•œë‹¤. ê·¸ë¦¬ê³  ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ìˆëŠ” ì„œë¹„ìŠ¤ë¥¼ í˜¸ì¶œí•˜ëŠ” ë‹´ë‹¹í•œë‹¤. ì°¸ê³ ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë³€ê²½í•˜ë©´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í˜¸ì¶œí•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì½”ë“œë„ ë³€ê²½ë  ìˆ˜ ìˆë‹¤. ì•ì—ì„œëŠ” ì´í•´ë¥¼ ë•ê¸° ìœ„í•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í˜¸ì¶œí•œë‹¤ëŠ” í‘œí˜„ ë³´ë‹¤ëŠ”, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ë¼ ì„¤ëª…í–ˆë‹¤.  
  
  
  
### ì ìš©  
```  
@WebServlet(name = "mvcMemberSaveServlet", urlPatterns = "/servlet-mvc/members/  
    save")  
    public class MvcMemberSaveServlet extends HttpServlet {  
        private MemberRepository memberRepository = MemberRepository.getInstance();  
@Override  
        protected void service(HttpServletRequest request, HttpServletResponse  
    response)  
                throws ServletException, IOException {  
            String username = request.getParameter("username");  
            int age = Integer.parseInt(request.getParameter("age"));  
  
Member member = new Member(username, age);  
          System.out.println("member = " + member);  
          memberRepository.save(member);  
  
//Modelì— ë°ì´í„°ë¥¼ ë³´ê´€í•œë‹¤.  
request.setAttribute("member", member);  
  
          String viewPath = "/WEB-INF/views/save-result.jsp";  
          RequestDispatcher dispatcher = request.getRequestDispatcher(viewPath);  
          dispatcher.forward(request, response);  
} }   
```  
  
**dispatcher.forward() : ë‹¤ë¥¸ ì„œë¸”ë¦¿ì´ë‚˜ JSPë¡œ ì´ë™í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥**ì´ë‹¤. ì„œë²„ ë‚´ë¶€ì—ì„œ ë‹¤ì‹œ í˜¸ì¶œì´  
  
 ë°œìƒí•œë‹¤.  
  > /WEB-INF  
> ì´ ê²½ë¡œì•ˆì— JSPê°€ ìˆìœ¼ë©´ ì™¸ë¶€ì—ì„œ ì§ì ‘ JSPë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤. ìš°ë¦¬ê°€ ê¸°ëŒ€í•˜ëŠ” ê²ƒì€ í•­ìƒ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼    
í†µí•´ì„œ JSPë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤.  
> redirect vs forward    
> ë¦¬ë‹¤ì´ë ‰íŠ¸ëŠ” ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸(ì›¹ ë¸Œë¼ìš°ì €)ì— ì‘ë‹µì´ ë‚˜ê°”ë‹¤ê°€, í´ë¼ì´ì–¸íŠ¸ê°€ redirect ê²½ë¡œë¡œ ë‹¤ì‹œ    
ìš”ì²­í•œë‹¤. ë”°ë¼ì„œ í´ë¼ì´ì–¸íŠ¸ê°€ ì¸ì§€í•  ìˆ˜ ìˆê³ , URL ê²½ë¡œë„ ì‹¤ì œë¡œ ë³€ê²½ëœë‹¤. ë°˜ë©´ì— í¬ì›Œë“œëŠ” ì„œë²„ ë‚´ë¶€ì—ì„œ ì¼ì–´ë‚˜ëŠ” í˜¸ì¶œì´ê¸° ë•Œë¬¸ì— í´ë¼ì´ì–¸íŠ¸ê°€ ì „í˜€ ì¸ì§€í•˜ì§€ ëª»í•œë‹¤.  
  
  
View  
```java  
<%@ page contentType="text/html;charset=UTF-8" language="java" %>  
  <html>  
  <head>  
      <meta charset="UTF-8">  
  </head>  
<body> ì„±ê³µ  
  <ul>  
      <li>id=${member.id}</li>  
      <li>username=${member.username}</li>  
      <li>age=${member.age}</li>  
</ul>  
<a href="/index.html">ë©”ì¸</a>  
  </body>  
  </html>  
```  
<%= request.getAttribute("member")%> ë¡œ ëª¨ë¸ì— ì €ì¥í•œ member ê°ì²´ë¥¼ êº¼ë‚¼ ìˆ˜ ìˆì§€ë§Œ, ë„ˆë¬´ ë³µì¡í•´ì§„ë‹¤.  
JSPëŠ” ${} ë¬¸ë²•ì„ ì œê³µí•˜ëŠ”ë°, ì´ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë©´ requestì˜ attributeì— ë‹´ê¸´ ë°ì´í„°ë¥¼ í¸ë¦¬í•˜ê²Œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.  
