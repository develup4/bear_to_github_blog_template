---
title:  무선통신의 모든 겉핥기

subtitle:  짬에서 나오는 겉핥기
categories: 무선통신 
tags: protocol
 
toc: true
toc_sticky: true
---

  
  
## PHY  
RF라는 안테나가 특정 파동을 잡아낸다.  
보통 그 파동의 높이를 이용해 0, 1로 바꾸는 과정까지는 많이들 이해하겠지만  
일단 고등학교 수학수준으로 보면, 복소 공간에서 실수부와 허수부를 이용해 공간을 사분면처럼 나타낼 수 있다.  
이 파동의 점이 이 사분면의 어느곳에 해당하는지 알아냄으로서 한 점에서 4bit를 담을 수 있게 되었다.  
이러한 차원이 쭉쭉 늘어나면서 64개까지 공간을 나눠서 한 점에서 데이터를 64bit까지 담아내게 된다.  
이러한 과정에서  
모듈레이션  
디모듈레이션을 하는게 모뎀이다.  
이름부터가 그렇다. mo.  dem  
인터리빙도 한다 왜하더라.  
이런것들이 phy의 영역이다.  
나도 잘모른다.  
  
## L1  
파이에서 보듯 이러한일은 소프트웨어보다는 하드웨어의 영역이다. 이러한 하드웨어를 조작하는 임베디드 소프트웨어가 들어가는 자리가 l1이다. osi상의 l1에는 phy, l1이 합쳐진 개념이다.  
  
## L2  
이제 데이터의 디지털화는 모두 완료되었다. 데이터 무결성을 위해 l2가 있다.  
  
### mac  
아직까지는 하드웨어의 영향이 있다. 물리적 채널을 논리적 채널로 바꿔주는 역할을 하고 일부 하드웨어를 이용한 시큐리티 기능도 담당한다. 여기 상위부터는 논리적채널을 다루게 된다. harq라고 일부 데이터 재전송도 담당한다.  
  
### rlc  
lte에서의 레이어명이지만 일반적이므로 쓴다. 여기서는 다소 익숙한 개념을 다루게 되는데 arq이다. auto repeat 어쩌고인데, 우리가 소프트웨어 레벨에서 tcp가 하는일같은걸 한다. 데이터를 capa에 맞게 잘라서 번호를 매겨서 보내고, 받아서 순서대로 조립하는일을 하고, 중간에 안오면 재전송을 유도해서 다시 받고 이러한 일들을 한다. 이런일을 하는데 또 위에서는 tcp에서 또한다. 조립의 단위가 다를뿐.  
arq는 소프트웨어의 영역인데 성능을 위해 일부 하드웨어가 대충 재전송을 진행하기도 하는데 아까 mac에서 적은 harq기능이다.  
  
### pdcp  
rlc에서 올라온 데이터에 대해 integrity나 패킷헤더 압축등을 진행한다.  
  
  
## L3  
l3는 l2와는 다른 역할을 한다. 마냥 상위라기보다는 다른 롤에 가깝다. l2의 역할을 유저플레인을 담당하는 것이고 l3의 역할은 컨트롤플레인을 담당하는 것이다. 전송되는 데이터중에는 실제 데이터와 제어를 위한 신호 데이터가 있는데 각자 전자,후자를 담당한다.  
  
### rrm  
무선 신호에 대한 measure를 담당하는 레이어이다. 사실 l1에 더 가까운 레이어일지도 모른다.  
  
### rrc  
무선통신에서 core network의 말단에 해당하는 것은 eNodeB(기술에 따라 이름은 다르지만) 즉 기지국이다.  
기지국과 단말의 통신을 담당하는 레이어이고 굉장히 하는일이 다양하다. 가장 중요하고 어려운 일은 핸드오프인데, 무선전화는 이동하면서 쓰다보니 이 기지국의 영역에서 저 기지국의 영역으로 넘어가는 일이 있다. 이런것이 핸드오프이고 rrc가 그 시나리오를 담당한다. 현재 기지국의 신호가 약해지면 심리스하게 넘어갈 수 있도록 잘한다.  
  
## NAS  
코어 네트워크와의 통신을 담당한다. 실제 통신은 기지국을 통해서 하겠지만 논리적으로 코어네트워크와 페어이다. 코어네트워크라함은 무선통신망 뿐만아니라 통신사의 핵심 통신망을 의미한다.  
  
### CC  
call control을 담당하는 레이어이다. 전화를 걸때 받을때의 시나리오를 관장한다. 우리가 전화를 걸면 통화음이 걸리고 번호를누르면 특정 톤이 나오고 전화가 올때 받기를누르면 일어나는 일이라던지 생각보다 디테일한 일을 담당한다. 하지만 시나리오를 관장하는 것이지 음성 데이터 전송을 담당하는 것은 아니다.  
  
### SM  
session manager이다. 우리가 웹에서 쓰는 것처럼 전화를 걸면 세션이 생기고 그를 관리하는 것이다.  
  
### MM  
mobility manager이다. 우리가 전화를 걸면 상대방이 어디에 있는지 알아야 그곳에 있는 기지국을 통해서 전화를 연결할 것이다. 그래서 단말은 현재 있는 지역에 Registration이라는 절차를 진행해서 내가 이곳에 있음을 알린다. 이 절차는 다른 지역으로 넘어갈때라던지 일정 시간이 지나는 경우 단말이 켜지는 경우 등등 특정 조건에 의해 이루어진다. registration이 이루어지지 못하면 휴대폰은 깡통이라고 할수 있다. 그리고 MM은 RRC와 다른 NAS 레이어와의 접점 역할도 하게되는데 왜 그런지는 모르겠다.  
  
  
  
  
우리가 흔히 쓰는 전화. 결코 쉬운 기술이 아니었다. 전화야 뭐 기본적으로 되어야하는거니 쉽게 생각할수 있지만 아직도 아직도 어려운 기술이다. 무선통신이란.  
